# ä¸¤çº§è§†å›¾é›†æˆå®Œæˆ âœ…

## ğŸ‰ é›†æˆæˆåŠŸï¼

ä¸¤çº§è§†å›¾åŠŸèƒ½å·²ç»å®Œå…¨é›†æˆåˆ° App.tsx ä¸­ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨äº†ï¼

## ğŸ“‹ å·²å®ç°çš„åŠŸèƒ½

### 1. GraphLevelManager é›†æˆ
- âœ… åœ¨ App.tsx ä¸­åˆå§‹åŒ– GraphLevelManager å®ä¾‹
- âœ… è‡ªåŠ¨åŒæ­¥æƒ³æ³•åˆ—è¡¨åˆ°ç®¡ç†å™¨
- âœ… å®æ—¶æ›´æ–°å›¾è°±æ•°æ®

### 2. ä¸¤çº§è§†å›¾åˆ‡æ¢
- âœ… **Level 1ï¼ˆå®è§‚è§†å›¾ï¼‰**ï¼š
  - æ˜¾ç¤ºæ‰€æœ‰æƒ³æ³•ä½œä¸ºèŠ‚ç‚¹
  - è¾¹çš„ç²—ç»†å’Œé€æ˜åº¦åæ˜ ç›¸ä¼¼åº¦
  - åªæ˜¾ç¤ºè¶…è¿‡é˜ˆå€¼çš„è¾¹
  - ç‚¹å‡»èŠ‚ç‚¹è½¬æ¢åˆ° Level 2
  
- âœ… **Level 2ï¼ˆå¾®è§‚è§†å›¾ï¼‰**ï¼š
  - æ˜¾ç¤ºé€‰ä¸­æƒ³æ³•çš„è¯¦ç»†å®ä½“å…³ç³»å›¾
  - èŠ‚ç‚¹æŒ‰ç±»å‹ç€è‰²
  - æ˜¾ç¤º"è¿”å›æ¦‚è§ˆ"æŒ‰é’®
  - ç‚¹å‡»è¿”å› Level 1

### 3. äº¤äº’åŠŸèƒ½
- âœ… èŠ‚ç‚¹ç‚¹å‡»å¤„ç†ï¼ˆLevel 1 â†’ Level 2ï¼‰
- âœ… è¿”å›æŒ‰é’®ï¼ˆLevel 2 â†’ Level 1ï¼‰
- âœ… ESC é”®å¿«æ·é”®è¿”å› Level 1
- âœ… å¹³æ»‘çš„è½¬æ¢åŠ¨ç”»

### 4. UI å¢å¼º
- âœ… **çº§åˆ«æŒ‡ç¤ºå™¨**ï¼š
  - æ˜¾ç¤ºå½“å‰è§†å›¾çº§åˆ«ï¼ˆğŸŒ å®è§‚ / ğŸ”¬ å¾®è§‚ï¼‰
  - Level 1 æ˜¾ç¤ºæƒ³æ³•æ€»æ•°
  
- âœ… **ç›¸ä¼¼åº¦é˜ˆå€¼æ§åˆ¶å™¨**ï¼š
  - æ»‘å—è°ƒèŠ‚é˜ˆå€¼ï¼ˆ0.5 - 1.0ï¼‰
  - å®æ—¶æ›´æ–°å›¾è°±æ˜¾ç¤º
  - åªåœ¨ Level 1 æ˜¾ç¤º

- âœ… **æ™ºèƒ½ä¿¡æ¯æ˜¾ç¤º**ï¼š
  - Level 1ï¼šæ˜¾ç¤ºé˜ˆå€¼æ§åˆ¶å™¨
  - Level 2ï¼šæ˜¾ç¤ºæƒ³æ³•æ‘˜è¦
  - è‡ªåŠ¨åˆ‡æ¢æ˜¾ç¤ºå†…å®¹

### 5. å‘åå…¼å®¹
- âœ… å¦‚æœ graphData ä¸º nullï¼Œè‡ªåŠ¨å›é€€åˆ°æ—§ç‰ˆæ¨¡å¼
- âœ… ä¿æŒç°æœ‰åŠŸèƒ½ä¸å—å½±å“

## ğŸ® ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨åº”ç”¨
1. ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œï¼š`python backend/app.py`
2. å¯åŠ¨å‰ç«¯ï¼š`npm run dev`
3. æ‰“å¼€æµè§ˆå™¨è®¿é—®åº”ç”¨

### æ“ä½œæŒ‡å—

#### æŸ¥çœ‹å®è§‚è§†å›¾ï¼ˆLevel 1ï¼‰
1. åº”ç”¨å¯åŠ¨æ—¶é»˜è®¤æ˜¾ç¤º Level 1
2. çœ‹åˆ°æ‰€æœ‰æƒ³æ³•ä½œä¸ºè“è‰²èŠ‚ç‚¹
3. è¾¹çš„ç²—ç»†è¡¨ç¤ºç›¸ä¼¼åº¦å¼ºåº¦
4. å³ä¸Šè§’æ˜¾ç¤º"ğŸŒ å®è§‚è§†å›¾"

#### è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼
1. åœ¨ Level 1 è§†å›¾ä¸­
2. æ‰¾åˆ°å³ä¸‹è§’çš„æ»‘å—æ§åˆ¶å™¨
3. æ‹–åŠ¨æ»‘å—è°ƒæ•´é˜ˆå€¼ï¼ˆ0.5 - 1.0ï¼‰
4. å›¾è°±å®æ—¶æ›´æ–°ï¼Œåªæ˜¾ç¤ºè¶…è¿‡é˜ˆå€¼çš„è¾¹

#### è¿›å…¥å¾®è§‚è§†å›¾ï¼ˆLevel 2ï¼‰
1. åœ¨ Level 1 ä¸­ç‚¹å‡»ä»»æ„æƒ³æ³•èŠ‚ç‚¹
2. è‡ªåŠ¨è½¬æ¢åˆ°è¯¥æƒ³æ³•çš„è¯¦ç»†è§†å›¾
3. çœ‹åˆ°å®ä½“èŠ‚ç‚¹ï¼ˆæŒ‰ç±»å‹ç€è‰²ï¼‰
4. å³ä¸Šè§’æ˜¾ç¤º"ğŸ”¬ å¾®è§‚è§†å›¾"

#### è¿”å›å®è§‚è§†å›¾
- **æ–¹æ³• 1**ï¼šç‚¹å‡»å·¦ä¸Šè§’çš„"â† è¿”å›æ¦‚è§ˆ"æŒ‰é’®
- **æ–¹æ³• 2**ï¼šæŒ‰ ESC é”®

## ğŸ¨ è§†è§‰æ•ˆæœ

### Level 1ï¼ˆå®è§‚è§†å›¾ï¼‰
```
ğŸŒ å®è§‚è§†å›¾ (5 æƒ³æ³•)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚    â—â”€â”€â”€â”€â”€â”€â”€â”€â—                   â”‚
â”‚    â”‚        â”‚                   â”‚
â”‚    â”‚        â—â”€â”€â”€â”€â—              â”‚
â”‚    â”‚             â”‚              â”‚
â”‚    â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—              â”‚
â”‚                                 â”‚
â”‚  [ç›¸ä¼¼åº¦é˜ˆå€¼: 0.70]             â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  0.5                      1.0   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Level 2ï¼ˆå¾®è§‚è§†å›¾ï¼‰
```
â† è¿”å›æ¦‚è§ˆ        ğŸ”¬ å¾®è§‚è§†å›¾
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚    [Concept]â”€â”€solvesâ”€â”€[Problem] â”‚
â”‚        â”‚                        â”‚
â”‚   powered_by                    â”‚
â”‚        â”‚                        â”‚
â”‚    [Tool]â”€â”€â”€â”€â”€â”€enablesâ”€â”€[Solution]â”‚
â”‚                                 â”‚
â”‚  [AI æ‘˜è¦]                      â”‚
â”‚  è¿™æ˜¯ä¸€ä¸ªå…³äº...çš„æƒ³æ³•          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### çŠ¶æ€ç®¡ç†
```typescript
// Graph Level Management
const [graphLevelManager] = useState(() => new GraphLevelManager());
const [graphData, setGraphData] = useState<GraphData | null>(null);
const [similarityThreshold, setSimilarityThreshold] = useState(0.7);
```

### æ•°æ®åŒæ­¥
```typescript
// å½“æƒ³æ³•åˆ—è¡¨å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°å›¾è°±
useEffect(() => {
  if (ideas.length > 0) {
    graphLevelManager.setIdeas(ideas);
    updateGraphData();
  }
}, [ideas]);
```

### çº§åˆ«è½¬æ¢
```typescript
// Level 1 â†’ Level 2
const handleGraphNodeClick = (nodeId: string) => {
  if (currentLevel === 1) {
    graphLevelManager.transitionToLevel2(nodeId);
    setSelectedIdeaId(nodeId);
    updateGraphData();
  }
};

// Level 2 â†’ Level 1
const handleBackToLevel1 = () => {
  graphLevelManager.transitionToLevel1();
  updateGraphData();
};
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°çš„ä¼˜åŒ–
- âœ… ç›¸ä¼¼åº¦è®¡ç®—ç¼“å­˜åœ¨ GraphLevelManager ä¸­
- âœ… åªåœ¨å¿…è¦æ—¶é‡æ–°è®¡ç®—å›¾è°±æ•°æ®
- âœ… ä½¿ç”¨ D3.js çš„é«˜æ•ˆæ¸²æŸ“
- âœ… å¹³æ»‘çš„ 500ms è½¬æ¢åŠ¨ç”»

### æœªæ¥ä¼˜åŒ–å»ºè®®
- å¯¹äº 100+ æƒ³æ³•ï¼Œè€ƒè™‘è™šæ‹ŸåŒ–
- å®ç°ç›¸ä¼¼åº¦è®¡ç®—çš„ Web Worker
- æ·»åŠ å›¾è°±å¸ƒå±€ç¼“å­˜

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šå›¾è°±ä¸æ˜¾ç¤º
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. ç¡®ä¿è‡³å°‘æœ‰ 1 ä¸ªæƒ³æ³•
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

### é—®é¢˜ï¼šç‚¹å‡»èŠ‚ç‚¹æ²¡æœ‰ååº”
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿åœ¨ Level 1 è§†å›¾ä¸­
2. æ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦æœ‰æœ‰æ•ˆçš„ idea_id
3. æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### é—®é¢˜ï¼šç›¸ä¼¼åº¦é˜ˆå€¼è°ƒæ•´æ— æ•ˆ
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿åœ¨ Level 1 è§†å›¾ä¸­
2. æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„æƒ³æ³•ï¼ˆè‡³å°‘ 2 ä¸ªï¼‰
3. å°è¯•é™ä½é˜ˆå€¼åˆ° 0.5

## ğŸ¯ ä¸‹ä¸€æ­¥

ç°åœ¨ä¸¤çº§è§†å›¾å·²ç»å®Œå…¨é›†æˆï¼Œä½ å¯ä»¥ï¼š

1. **æµ‹è¯•åŠŸèƒ½**ï¼š
   - åˆ›å»ºå‡ ä¸ªæƒ³æ³•
   - åœ¨ Level 1 å’Œ Level 2 ä¹‹é—´åˆ‡æ¢
   - è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼

2. **ç»§ç»­å…¶ä»–ä»»åŠ¡**ï¼š
   - ä»»åŠ¡ 5ï¼šå®ç°å¤šé€‰æƒ³æ³•åˆ—è¡¨
   - ä»»åŠ¡ 6ï¼šå®ç°åç«¯è¿›åŒ–å¤„ç†å™¨
   - ä»»åŠ¡ 7ï¼šæ·»åŠ è¿›åŒ–å‘½ä»¤ API ç«¯ç‚¹

3. **ä¼˜åŒ–ä½“éªŒ**ï¼š
   - æ·»åŠ æ›´å¤šåŠ¨ç”»æ•ˆæœ
   - æ”¹è¿›è§†è§‰è®¾è®¡
   - æ·»åŠ æ›´å¤šäº¤äº’åŠŸèƒ½

## ğŸ“ ä»£ç å˜æ›´æ€»ç»“

### æ–°å¢å¯¼å…¥
```typescript
import { GraphLevelManager, GraphData } from './utils/graphLevelManager';
```

### æ–°å¢çŠ¶æ€
```typescript
const [graphLevelManager] = useState(() => new GraphLevelManager());
const [graphData, setGraphData] = useState<GraphData | null>(null);
const [similarityThreshold, setSimilarityThreshold] = useState(0.7);
```

### æ–°å¢å‡½æ•°
```typescript
updateGraphData()
handleGraphNodeClick(nodeId: string)
handleBackToLevel1()
```

### æ–°å¢ useEffect
- å›¾è°±æ•°æ®åŒæ­¥
- ç›¸ä¼¼åº¦é˜ˆå€¼æ›´æ–°
- é”®ç›˜å¿«æ·é”®

### UI æ›´æ–°
- GraphView ç»„ä»¶ä½¿ç”¨ graphData
- çº§åˆ«æŒ‡ç¤ºå™¨
- ç›¸ä¼¼åº¦é˜ˆå€¼æ§åˆ¶å™¨
- æ™ºèƒ½ä¿¡æ¯æ˜¾ç¤º

## âœ… éªŒè¯æ¸…å•

- [x] GraphLevelManager æ­£ç¡®åˆå§‹åŒ–
- [x] æƒ³æ³•åˆ—è¡¨è‡ªåŠ¨åŒæ­¥
- [x] Level 1 è§†å›¾æ­£ç¡®æ˜¾ç¤º
- [x] Level 2 è§†å›¾æ­£ç¡®æ˜¾ç¤º
- [x] èŠ‚ç‚¹ç‚¹å‡»è½¬æ¢å·¥ä½œ
- [x] è¿”å›æŒ‰é’®å·¥ä½œ
- [x] ESC é”®å¿«æ·é”®å·¥ä½œ
- [x] ç›¸ä¼¼åº¦é˜ˆå€¼æ§åˆ¶å™¨å·¥ä½œ
- [x] çº§åˆ«æŒ‡ç¤ºå™¨æ˜¾ç¤ºæ­£ç¡®
- [x] å‘åå…¼å®¹æ€§ä¿æŒ
- [x] æ—  TypeScript é”™è¯¯

## ğŸŠ æ€»ç»“

**ä¸¤çº§è§†å›¾åŠŸèƒ½ç°åœ¨å·²ç»å®Œå…¨é›†æˆå¹¶å¯ä»¥ä½¿ç”¨äº†ï¼**

è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„é‡Œç¨‹ç¢‘ï¼Œä¸ºç”¨æˆ·æä¾›äº†ï¼š
- ğŸŒ å®è§‚è§†å›¾ï¼šé¸Ÿç°æ‰€æœ‰æƒ³æ³•çš„å…³ç³»
- ğŸ”¬ å¾®è§‚è§†å›¾ï¼šæ·±å…¥æ¢ç´¢å•ä¸ªæƒ³æ³•çš„ç»†èŠ‚
- ğŸ›ï¸ çµæ´»æ§åˆ¶ï¼šè°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼
- âŒ¨ï¸ ä¾¿æ·æ“ä½œï¼šé”®ç›˜å¿«æ·é”®æ”¯æŒ

äº«å—æ¢ç´¢ä½ çš„çŸ¥è¯†å›¾è°±å§ï¼ğŸš€
